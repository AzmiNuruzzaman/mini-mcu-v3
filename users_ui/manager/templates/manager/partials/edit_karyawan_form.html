{% if karyawan %}
<form method="POST" action="{% url 'manager:edit_karyawan' karyawan.uid %}?submenu=data_karyawan&subtab=edit_data">
    {% csrf_token %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <div>
            <label class="block font-semibold mb-1">Nama</label>
            <input type="text" name="nama" value="{{ karyawan.nama|default:'' }}" class="w-full border px-2 py-1 rounded" placeholder="Masukkan nama karyawan">
        </div>

        <div>
            <label class="block font-semibold mb-1">Jabatan</label>
            <input type="text" name="jabatan" value="{{ karyawan.jabatan|default:'' }}" class="w-full border px-2 py-1 rounded" placeholder="Masukkan jabatan">
        </div>

        <div>
            <label class="block font-semibold mb-1">Lokasi</label>
            <select name="lokasi" class="w-full border px-2 py-1 rounded">
                <option value="">Pilih lokasi</option>
                {% for lokasi in available_lokasi %}
                    <option value="{{ lokasi }}" {% if karyawan.lokasi == lokasi %}selected{% endif %}>{{ lokasi }}</option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label class="block font-semibold mb-1">Tanggal Lahir</label>
            <input type="date" name="tanggal_lahir" value="{{ karyawan.tanggal_lahir|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

        <div>
            <label class="block font-semibold mb-1">
                Derajat Kesehatan
                <span class="ml-1 text-xs text-gray-500 cursor-help" title="Isi dengan P1, P2, P3, P4, P5, P6, atau P7">â“˜</span>
            </label>
            <select name="derajat_kesehatan" class="w-full border px-2 py-1 rounded">
                <option value="" {% if not karyawan.derajat_kesehatan %}selected{% endif %}>-</option>
                <option value="P1" {% if karyawan.derajat_kesehatan|upper == 'P1' %}selected{% endif %}>P1</option>
                <option value="P2" {% if karyawan.derajat_kesehatan|upper == 'P2' %}selected{% endif %}>P2</option>
                <option value="P3" {% if karyawan.derajat_kesehatan|upper == 'P3' %}selected{% endif %}>P3</option>
                <option value="P4" {% if karyawan.derajat_kesehatan|upper == 'P4' %}selected{% endif %}>P4</option>
                <option value="P5" {% if karyawan.derajat_kesehatan|upper == 'P5' %}selected{% endif %}>P5</option>
                <option value="P6" {% if karyawan.derajat_kesehatan|upper == 'P6' %}selected{% endif %}>P6</option>
                <option value="P7" {% if karyawan.derajat_kesehatan|upper == 'P7' %}selected{% endif %}>P7</option>
            </select>
        </div>

        <div>
            <label class="block font-semibold mb-1">Tinggi (cm)</label>
            <input type="number" step="0.01" name="tinggi" value="{{ karyawan.tinggi|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

        <div>
            <label class="block font-semibold mb-1">Berat (kg)</label>
            <input type="number" step="0.01" name="berat" value="{{ karyawan.berat|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

        <div>
            <label class="block font-semibold mb-1">BMI</label>
            <input type="number" step="0.01" name="bmi" value="{{ karyawan.bmi|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

        <div>
            <label class="block font-semibold mb-1">BMI Category</label>
            <input type="text" name="bmi_category" value="{{ karyawan.bmi_category|default:'' }}" class="w-full border px-2 py-1 rounded" placeholder="Misal: Normal, Overweight, Obese">
        </div>

        <div>
            <label class="block font-semibold mb-1">Tanggal MCU</label>
            <input type="date" name="tanggal_MCU" value="{{ karyawan.tanggal_MCU|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

        <div>
            <label class="block font-semibold mb-1">Expired MCU</label>
            <input type="date" name="expired_MCU" value="{{ karyawan.expired_MCU|default:'' }}" class="w-full border px-2 py-1 rounded">
        </div>

    </div>

    <div class="mt-4">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
            Simpan Master Data
        </button>
    </div>
</form>
{% else %}
<p class="text-gray-500">Pilih karyawan untuk mengedit data.</p>
{% endif %}
