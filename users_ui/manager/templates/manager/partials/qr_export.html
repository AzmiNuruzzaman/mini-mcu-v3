{% load static %}

<div>
    <div class="flex items-start justify-between mb-4">
        <div>
            <h4 class="font-semibold">QR Codes</h4>
            <p class="text-sm text-gray-500">Pilih karyawan untuk melihat dan mengunduh QR kode atau lakukan ekspor massal.</p>
        </div>
    </div>

    {% if employees %}
    <form action="{% url 'manager:qr_codes' %}" method="get" class="space-y-4">
        <div>
            <label for="uid" class="block mb-2 text-sm font-medium text-gray-700">Pilih Karyawan</label>
            <select name="uid" id="uid" class="select2 w-full rounded-md border-gray-300 text-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-blue-600" required>
                <option value="">Cari dan pilih karyawanâ€¦</option>
                {% for employee in employees %}
                    <option value="{{ employee.uid }}">{{ employee.nama }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="flex flex-wrap gap-2">
            <button type="submit" class="inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 text-sm">
                Lihat QR Code
            </button>
            <a href="{% url 'manager:qr_codes' %}?bulk=1" class="inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-emerald-600 hover:bg-emerald-700 text-sm">
                Export Semua (Bulk)
            </a>
        </div>
    </form>

    <p class="mt-3 text-xs text-gray-500">Ekspor massal akan mengunduh paket ZIP berisi semua QR kode karyawan.</p>
    {% else %}
    <div class="bg-yellow-50 border border-yellow-200 rounded p-4">
        <p class="text-yellow-800 text-sm">
            Tidak ada data karyawan yang tersedia. Silakan upload data karyawan terlebih dahulu melalui menu Upload / Export Data.
        </p>
    </div>
    {% endif %}
</div>
